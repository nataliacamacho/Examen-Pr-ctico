<div class="auth-page">
  <div class="auth-box">
    <h2>Recuperar Contrase単a</h2>

    <div *ngIf="paso === 1">
      <p class="instruction">Ingresa tu correo para verificar tu identidad</p>
      <label>
        Correo
        <input class="auth-input" [(ngModel)]="correo" name="correo" type="email" />
      </label>
      <button class="auth-btn" (click)="verificarCorreo()" [disabled]="cargando">
        {{ cargando ? 'Verificando...' : 'Verificar' }}
      </button>
    </div>

    <div *ngIf="paso === 2">
      <p class="instruction">Confirma tu nombre para cambiar tu contrase単a</p>
      <label>
        Tu nombre (en nuestros registros: <strong>{{ nombreBD }}</strong>)
        <input class="auth-input" [(ngModel)]="nombreConfirm" name="nombreConfirm" />
      </label>
      <label>
        Nueva contrase単a
        <input class="auth-input" [(ngModel)]="passwordNueva" name="passwordNueva" type="password" />
      </label>
      <button class="auth-btn" (click)="resetPassword()" [disabled]="cargando">
        {{ cargando ? 'Actualizando...' : 'Actualizar Contrase単a' }}
      </button>
      <button class="auth-btn back-btn" (click)="volver()">Volver</button>
    </div>

    <p class="success" *ngIf="mensaje">{{ mensaje }}</p>
    <p class="error" *ngIf="error">{{ error }}</p>
  </div>
</div>
